<?xml version="1.0"?>
<package xmlns="http://schemas.microsoft.com/packaging/2011/08/nuspec.xsd">
  <metadata>
    <id>sqlpackage</id>
    <version>18.8</version>
    <title>SqlPackage</title>
    <authors>Microsoft</authors>
    <owners>Shannon Barrett</owners>
    <licenseUrl>https://docs.microsoft.com/en-us/legal/sql/data-tier-application-framework-license-terms</licenseUrl>
    <projectUrl>https://docs.microsoft.com/en-us/sql/tools/sqlpackage?view=sql-server-ver15</projectUrl>
    <requireLicenseAcceptance>false</requireLicenseAcceptance>
    <description>SqlPackage.exe is a command-line utility that automates the following database development tasks:
      * Extract: Creates a database snapshot (.dacpac) file from a live SQL Server or Azure SQL Database.
      * Publish: Incrementally updates a database schema to match the schema of a source .dacpac file. If the database does not exist on the server, the publish operation creates it. Otherwise, an existing database is updated.
      * Export: Exports a live database - including database schema and user data - from SQL Server or Azure SQL Database to a BACPAC package (.bacpac file).
      * Import: Imports the schema and table data from a BACPAC package into a new user database in an instance of SQL Server or Azure SQL Database.
      * DeployReport: Creates an XML report of the changes that would be made by a publish action.
      * DriftReport: Creates an XML report of the changes that have been made to a registered database since it was last registered.
      * Script: Creates a Transact-SQL incremental update script that updates the schema of a target to match the schema of a source.</description>
    <summary>SqlPackage is a command-line utility that automates database development tasks</summary>
    <releaseNotes># Features  

 - Export: Adds option VerifyExtraction to change behavior of schema model validation on export
 - Azure SQL: Support for ledger database and tables, import and export
 - Platform: Upgrade Microsoft.Data.SqlClient from 2.0.0 to 2.1.3 for .NET Core version
 - Azure Synapse Analytics: Support for column encryption with symmetric key
 - Azure Synapse Analytics: Support for column encryption with CREATE CERTIFICATE
 - Azure Synapse Analytics: Support for MERGE statement
 - Deployment: Variable parameterization for AE columns, new publish property IsAlwaysEncryptedParameterizationEnabled
 - Deployment: Support for IgnoreWorkloadClassifiers and IgnoreDatabaseWorkloadGroups publish properties
 - Deployment: Support for external language runtimes
 - ScriptDOM: Support for ledger database and tables
 - ScriptDOM: Support for INCLUDE columns in inline index definitions


# Fixes

 - Deployment: Fixed an issue where external user deployment to Managed Instance would fail
 - Deployment: Fix for deployment order involving temporal tables to drop dependencies before turning system versioning off
 - Deployment: Fix for Always Encrypted deployment bug with error "Invalid object name '#tmpErrors'"
 - Export: Validation for SqlPackage parameters ExcludeObjectType(s) and DoNotDropObjectType(s)
 - Export: Fixed export failure when there are CDC objects in database by excluding
 - Extract: Adds a retry to extract validation when first time fails due to race condition
 - Import: Fixed occasional deadlocks when importing to Azure by setting MAXDOP to 1
 - Import: Fixed import failure when temporal table has dependency on security policy with schema binding on
 - Platform: DacFramework.msi is now signed by "Microsoft SQL Server Data-Tier Application Framework" instead of "SQL Server 2012"
 - Platform: Default to large arrays in x64 SqlPackage, fixes some scenarios involving large databases
 - Schema Compare: Fix for schema compare failing for equal databases with database scoped configurations
 - Schema Compare: Fixed schema compare with columnstore indexes
 - SQL Project: Fixed a bug with build error for "GRANT EXECUTE ANY EXTERNAL SCRIPT"
 - SQL Project: Fixed a bug where database project with columnstore index and a (n)varchar(max) column builds successfully but fails at deployment
 - SQL Project: Fixed unresolved reference warnings for table distribution columns within Stored Procedures

    </releaseNotes>
    <tags>sqlpackage dacfx</tags>
    <packageSourceUrl>https://github.com/shiitake/have-some-chocolate</packageSourceUrl>
    <docsUrl>https://docs.microsoft.com/en-us/sql/tools/sqlpackage?view=sql-server-ver15</docsUrl>
  </metadata>
    <files>    
      <file src="tools\**" target="tools" />    
  </files>
</package>